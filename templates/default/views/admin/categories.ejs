<!DOCTYPE html>
<html>
<%- include('../partials/head.ejs'); %>
<body>
    <%- include('../partials/navbar.ejs'); %>

    <script>
        function validateCategory() {
            if (!title.value) return toast(`No name was entered.`, 'danger');
            if (title.value.length < 1) return toast(`The name must be at least 1 character.`, 'danger');
            
            if (!['category', 'subcategory'].includes(type.value)) return toast(`Type isn't valid, did you inspect element that?`, 'danger');
        }

        function validateSubCategory(id) {
            const _title = $(`#title_${id}`);
            const _icon = $(`#icon_${id}`);

            if (!_title.value) return toast(`No name was entered.`, 'danger');
            if (_title.value.length < 1) return toast(`The name must be at least 1 character.`, 'danger');
            
            if (!['category', 'subcategory'].includes(type.value)) return toast(`Type isn't valid, did you inspect element that?`, 'danger');

            // post
            console.log(`success`);
            return false;
        }
    </script>

    <div class="header has-background-grey-lighter">
        <div class="container">
            <h1 class="title"><%= locals.title %></h1>
            <p class="subtitle is-6">Manage your forum's content and settings</p>
        </div>
    </div>

    <br />

    <div class="container">
        <div class="columns">
            <div class="column is-2">
                <%- include('../partials/adminMenu.ejs'); %>
            </div>
            <div class="column">
                <h1 class="title">
                    Categories

                    <!-- creation button -->
                    <a class="button is-info is-pulled-right" onclick=""><i class="fas fa-plus"></i></a>
                </h1>
                <p class="subtitle is-6">Manage the categories and sub-categories on your forum</p>

                <% if (!categories.length) { %>
                    <p class="subtitle is-6 has-text-grey">No categories have been created.</p>
                <% } else { %>
                    <% categories.sort((a, b) => parseInt(b.position) - parseInt(a.position)).forEach(category => { %>
                        
                    //<!-- categories appear here, sorted highest to lowest -->

                    <% }); %>
                <% }; %>
            </div>
        </div>
    </div>

    <%- include('../partials/scripts.ejs'); %>
</body>
</html>